(this.webpackJsonpcognitotest=this.webpackJsonpcognitotest||[]).push([[0],{23:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(17),u=n.n(o),a=(n(23),n(6)),s=n.n(a),i=n(14),l=n(18),j=n(8),b=n(3),f=n(5),h=new f.d({UserPoolId:"eu-west-2_Cv2kBw6cS",ClientId:"41dj7de1t0qrns7mj8h1n57qfs"}),O=n(0),d=Object(c.createContext)(),v=function(e){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],o=n[1];Object(c.useEffect)((function(){u().then((function(e){o(!0)}))}),[]);var u=function(){var e=Object(j.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=h.getCurrentUser();n?n.getSession(function(){var c=Object(j.a)(s.a.mark((function c(r,o){var u,a;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!r){c.next=4;break}t(),c.next=9;break;case 4:return c.next=6,new Promise((function(e,t){n.getUserAttributes((function(n,c){if(n)t(n);else{var r,o={},u=Object(l.a)(c);try{for(u.s();!(r=u.n()).done;){var a=r.value,s=a.Name,i=a.Value;o[s]=i}}catch(n){u.e(n)}finally{u.f()}e(o)}}))}));case 6:u=c.sent,a=o.getIdToken().getJwtToken(),e(Object(i.a)(Object(i.a)({user:n,headers:{Authorization:a,"x-api-key":u["custom:apikey"]}},o),u));case 9:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()):t()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,c){var r=new f.b({Username:t,Pool:h}),o=new f.a({Username:t,Password:n});r.authenticateUser(o,{onSuccess:function(t){console.log("onSuccess:",t),e(t)},onFailure:function(e){console.error("onFailure:",e),c(e)},newPasswordRequired:function(t){console.log("newPasswordRequired:",t),e(t)}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsx)(d.Provider,{value:{authenticate:a,getSession:u,logout:function(){var e=h.getCurrentUser();e&&(e.signOut(),o(!1))},status:r,setStatus:o},children:e.children})};var p=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useState)(""),l=Object(b.a)(i,2),j=l[0],d=l[1];return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.signUp(n,j,[new f.c({Name:"email",Value:a})],[],(function(e,t){e&&console.log(e),console.log(t)}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)},placeholder:"username"}),Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)},placeholder:"email"}),Object(O.jsx)("input",{value:j,onChange:function(e){return d(e.target.value)},placeholder:"password"}),Object(O.jsx)("button",{type:"submit",children:"Signup"})]})})};var g=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useContext)(d),l=i.authenticate,j=i.setStatus;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(n,a).then((function(e){console.log("Logged in!",e),j(!0)})).catch((function(e){console.error("Failed to login!",e)}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)},placeholder:"username"}),Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)},placeholder:"password"}),Object(O.jsx)("button",{type:"submit",children:"Login"})]})})},x=function(){var e=Object(c.useContext)(d),t=e.logout,n=e.status;return Object(O.jsx)("div",{children:n?Object(O.jsxs)("div",{children:["You are logged in. ",Object(O.jsx)("button",{onClick:t,children:"Logout"})]}):"Please login below"})},m=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useContext)(d),l=i.getSession,j=i.authenticate;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l().then((function(e){var t=e.user;j(t.username,n).then((function(){t.changePassword(n,a,(function(e,t){e&&console.error(e),console.log(t)}))})).catch((function(e){return console.error(e)}))})).catch((function(e){console.error(e)}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("button",{type:"submit",children:"Change password"})]})})},w=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useContext)(d),l=i.getSession,j=i.authenticate;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l().then((function(e){var t=e.user;j(t.username,a).then((function(){var e=[new f.c({Name:"email",Value:n})];t.updateAttributes(e,(function(e,t){e&&console.error(e),console.log(t)}))})).catch((function(e){return console.error(e)}))})).catch((function(e){console.error(e)}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("button",{type:"submit",children:"Change email"})]})})},S=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useContext)(d),l=i.getSession,j=i.authenticate;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l().then((function(e){var t=e.user;j(t.username,a).then((function(){var e=[new f.c({Name:"username",Value:n})];t.updateAttributes(e,(function(e,t){e&&console.error(e),console.log(t)}))})).catch((function(e){return console.error(e)}))})).catch((function(e){console.error(e)}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("button",{type:"submit",children:"Change username"})]})})},C=function(){var e=Object(c.useContext)(d).status;return Object(O.jsx)("div",{children:e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Settings"}),Object(O.jsx)(m,{}),Object(O.jsx)(w,{}),Object(O.jsx)(S,{})]})})},y=function(){var e=Object(c.useState)(1),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),a=u[0],s=u[1],i=Object(c.useState)(""),l=Object(b.a)(i,2),j=l[0],d=l[1],v=Object(c.useState)(""),p=Object(b.a)(v,2),g=p[0],x=p[1],m=Object(c.useState)(""),w=Object(b.a)(m,2),S=w[0],C=w[1],y=function(){return new f.b({Username:a.toLowerCase(),Pool:h})};return Object(O.jsxs)("div",{children:[1===n&&Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y().forgotPassword({onSuccess:function(e){console.log("onSuccess:",e)},onFailure:function(e){console.log("onFailure:",e)},inputVerificationCode:function(e){console.log("Input code:",e),r(2)}})},children:[Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)},placeholder:"email"}),Object(O.jsx)("button",{type:"submit",children:"Send verification code"})]}),2===n&&Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g===S?y().confirmPassword(j,g,{onSuccess:function(e){console.log("onSuccess:",e)},onFailure:function(e){console.error("onFailure:",e)}}):console.error("Passwords are not the same")},children:[Object(O.jsx)("input",{value:j,onChange:function(e){return d(e.target.value)},placeholder:"code"}),Object(O.jsx)("input",{value:g,onChange:function(e){return x(e.target.value)},placeholder:"new password"}),Object(O.jsx)("input",{value:S,onChange:function(e){return C(e.target.value)},placeholder:"confirm new password"}),Object(O.jsx)("button",{type:"submit",children:"Change password"})]})]})},P=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useContext)(d).getSession;Object(c.useEffect)((function(){o().then((function(e){r(e["custom:plan"])}))}),[]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Update your plan:"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o().then((function(e){var t=e.user,c=[new f.c({Name:"custom:plan",Value:n})];t.updateAttributes(c,(function(e,t){e&&console.error(e),console.log(t)}))}))},children:[Object(O.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("button",{type:"submit",children:"Change plan"})]})]})},k=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useContext)(d).getSession;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Random number: ",n]}),Object(O.jsx)("button",{onClick:function(){o().then(function(){var e=Object(j.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,"https://wvv2lnqscf.execute-api.eu-west-2.amazonaws.com/dev/random-number?min=1&max=100",console.log(n),e.next=5,fetch("https://wvv2lnqscf.execute-api.eu-west-2.amazonaws.com/dev/random-number?min=1&max=100",{headers:n}).then((function(e){return e.json()})).catch((function(e){console.error(e)}));case 5:c=e.sent,r(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Fetch new number"})]})},F=function(){return Object(O.jsxs)(v,{children:[Object(O.jsx)(x,{}),Object(O.jsx)(p,{}),Object(O.jsx)(g,{}),Object(O.jsx)(y,{}),Object(O.jsx)(C,{}),Object(O.jsx)(P,{}),Object(O.jsx)(k,{})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),o(e),u(e)}))};u.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),U()}},[[32,1,2]]]);
//# sourceMappingURL=main.b138c037.chunk.js.map